"use strict";/**
 * Copyright (c) 2016 hustcc
 * License: MIT
 * Version: v1.0.1
 * GitHub: https://github.com/hustcc/canvas-nest.js
**/
var nest=function(){function e(){var e=a("script"),n=e.length,t=e[n-1];return{l:n,z:d(t,"zIndex",-1),o:d(t,"opacity",.5),c:d(t,"color","0,0,0"),n:d(t,"count",99)}}function n(){x=u.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,v=u.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function t(){if(m.clearRect(0,0,x,v),h){var e=void 0,n=void 0,i=void 0,o=void 0,r=!0,d=!1,a=void 0;try{for(var u,l=p[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var f=u.value;f.x+=f.xa,f.y+=f.ya,f.xa*=f.x>x||f.x<0?-1:1,f.ya*=f.y>v||f.y<0?-1:1,m.fillRect(f.x-.5,f.y-.5,1,1);var g=!0,b=!1,E=void 0;try{for(var z,A=w[Symbol.iterator]();!(g=(z=A.next()).done);g=!0){var R=z.value;n=f.x-R.x,i=f.y-R.y,o=n*n+i*i,null===R.x||null===R.y||o>=R.max||(R===s&&o>=R.max/2&&(f.x-=.03*n,f.y-=.03*i),e=(R.max-o)/R.max,m.beginPath(),m.lineWidth=e/2,m.strokeStyle="rgba("+c.c+", "+(e+.2)+")",m.moveTo(f.x,f.y),m.lineTo(R.x,R.y),m.stroke())}}catch(T){b=!0,E=T}finally{try{!g&&A["return"]&&A["return"]()}finally{if(b)throw E}}}}catch(T){d=!0,a=T}finally{try{!r&&l["return"]&&l["return"]()}finally{if(d)throw a}}y(t)}}function i(){h=!1}function o(){h=!0,t()}function r(){h=!0,u.id=l,u.style.cssText="position:fixed;top:0;left:0;z-index:"+c.z+";opacity:"+c.o,a("body")[0].appendChild(u),n(),window.addEventListener("resize",n),window.addEventListener("mousemove",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;s.x=e.clientX,s.y=e.clientY}),window.addEventListener("mouseout",function(){s.x=null,s.y=null});for(var e=0;c.n>e;e++){var i=f()*x,o=f()*v,r=2*f()-1,d=2*f()-1;p.push({x:i,y:o,xa:r,ya:d,max:6e3})}w=p.concat([s]),setTimeout(function(){return t()},100)}var d=function(e,n,t){return e.getAttribute(n)||t},a=function(e){return document.getElementsByTagName(e)},u=document.createElement("canvas"),c=e(),l="c_n"+c.l,m=u.getContext("2d"),y=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/45)},f=Math.random,s={x:null,y:null,max:2e4},x=void 0,v=void 0,w=void 0,h=void 0,p=[];return{init:r,stop:i,start:o}}();"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=nest:"function"==typeof define&&define.amd?define([],function(){return nest}):nest.init();